@model DSLNG.PEAR.Web.ViewModels.AssumptionData.AssumptionDataInputViewModel
@{
    ViewBag.Title = "Input";
}

<h2>Key Assumption For : @Model.Scenario.Name</h2>
@{
    foreach (var category in Model.KeyAssumptionCategories.Where(x => x.IsActive == true).OrderBy(x => x.Order).ToList())
    {
    <div class="row">
        <div class="col-sm-12">
            <h3>@category.Name</h3>
        </div>
    </div>
        foreach (var assumption in category.Assumptions)
        {
            var realValue = Model.AssumptionDataList.FirstOrDefault(x => x.IdConfig == assumption.Id && x.IdScenario == Model.Scenario.Id);    
    <div class="row">
        <div class="col-sm-4" style="padding-left: 50px">
            <label>@assumption.Name</label>
        </div>
        <div class="col-sm-4">
            <form action="@Url.Action("Update")">
                @Html.Hidden("IdScenario", Model.Scenario.Id)
                @Html.Hidden("IdConfig", assumption.Id)
                @if (realValue != null)
                {
                    @Html.Hidden("Id", realValue.Id)
                    <label>Forecast</label><input type="text" class="control-form forecast" name="ForecastValue" value="@realValue.ForecastValue" />
                }
                else
                {
                    <label>Forecast</label><input type="text" class="control-form forecast" name="ForecastValue" />
                }
                <label>@assumption.Measurement</label>
            </form>
        </div>
        <div class="col-sm-4">
            <form action="@Url.Action("Update")">
                @Html.Hidden("IdScenario", Model.Scenario.Id)
                @Html.Hidden("IdConfig", assumption.Id)
                @if (realValue != null)
                {
                    @Html.Hidden("Id", realValue.Id)
                    <label>Actual</label><input type="text" class="control-form forecast" name="ActualValue" value="@realValue.ActualValue" />
                }
                else
                {
                    <label>Actual</label><input type="text" class="control-form forecast" name="ActualValue" />
                }
                <label>@assumption.Measurement</label>
            </form>
        </div>
        <div class="col-sm-4">
        </div>
    </div>
        }
    }
}
@section Scripts{
    <script type="text/javascript">
        $(document).ready(function () {
            $('.add-assumption-group').click(function (e) {
                e.preventDefault();
                var assumptionGroups = $('.assumption-groups').clone(true).show();
                $('.assumption-input-list').append(assumptionGroups);
            });
        });
    </script>
}